# ドキュメント（Mockup）

## ディレクトリ概要
- `src/`: 画面モックアップ本体（一覧・詳細・共通スタイル・JS）
- `assets/`: 画像やアイコンなど任意の静的ファイル置き場
- `docs/`: 本ドキュメントを含む資料

## データ項目（モック）
`src/app.js` 内の `games` 配列で以下の項目を保持しています。
- `id`: 画面遷移に使用するユニークID
- `title`: ゲームタイトル（一覧/詳細で表示）
- `genre`: ジャンル名
- `releaseDate`: 発売日（ISO形式、画面では `YYYY/MM/DD` 表示）
- `description`: 詳細画面で表示する説明文
- `image` (任意): カバー画像のURL。未設定または読み込み失敗時は非表示

## 画面構成
- **ゲーム一覧 (`src/list.html`)**: モバイルファーストのカードレイアウト。各カードから `detail.html?id={gameId}` に遷移。
- **ゲーム詳細 (`src/detail.html`)**: URLパラメータ `id` をもとに該当データを表示。「← 一覧へ戻る」リンクあり。
- **エントリーポイント (`src/index.html`)**: 自動で一覧へリダイレクト。直接アクセス時の保険。

## 操作手順
1. ローカルで確認する場合は `src/list.html`（または `src/index.html`）をブラウザで開く。
2. 任意のゲームカードを選ぶと詳細画面へ遷移。
3. 詳細画面右上の「← 一覧へ戻る」リンクで一覧に戻る。
4. 必要に応じて `npx serve .` などの簡易サーバを立ち上げれば別端末でも閲覧可能。

## 手動動作確認チェックリスト
- [ ] `file://` 直開きで一覧→詳細→戻るの遷移が成立する。
- [ ] 画面幅320px程度まで縮小してもカード/詳細が破綻しない。
- [ ] JavaScript無効時でも `list.html` の静的カードでタイトル一覧が見える（詳細画面は案内メッセージ表示）。
- [ ] 画像が取得できない場合でも代替表示としてレイアウトが崩れない。

## 簡易テスト
- 自動チェック: `tests/render.test.html` をブラウザで開くと、`src/app.js` の主要関数（`formatDate`/`getGameById`/`renderList`/`renderDetail`）に対する簡易テスト結果を確認できます。
- 失敗したケースは赤字とコンソールログに詳細が表示されます。テスト終了後はURLが元に戻るよう `history.replaceState` を試みます（`file://` の制限で復元できない場合は警告のみ出力）。

## 補足
- 追加したい画像やアイコンは `assets/` 配下に配置し、`games` データの `image` プロパティにパスを指定。
- 将来的にJSONファイルへ外部化する場合は `assets/data/` などサブディレクトリを利用すると整理しやすい。
- コーディング規約はリポジトリルートのガイドラインに準拠。

## React 移行/併用について（実験的）
このリポジトリには従来の静的モック (`src/`) に加えて、`react-app/` ディレクトリで Vite + React の開発環境を利用できます。

### 目的
- 将来的なコンポーネント化・状態管理導入の実験場
- 既存静的 HTML 仕様を段階的に React コンポーネントへ写経するための足場

### ディレクトリ
- `react-app/`: Vite テンプレート (`main.jsx`, `App.jsx` など)

### 起動手順
```bash
cd react-app
npm run dev
```
ブラウザで表示されたローカルホスト URL を開きます。

### 段階的移行のヒント
- まず `games` 配列を `react-app/src/data/games.js` などに複製し、型やコメントを整理。
- 一覧表示は `GameList.jsx`、詳細表示は `GameDetail.jsx` のように分割。
- ルーティングを導入する場合は `react-router` を追加（静的モック保持が前提なので、導入前に Issue で相談推奨）。

### 注意
- 既存 `src/` 配下の挙動・API (`renderList`, `renderDetail` 等) を壊さない。
- 追加パッケージは最小限。不要になったら Issue / PR で削除方針を合意。

### 今後の発展余地（例）
- `games` を JSON 供給に変更しフェッチ層を React 側に実装
- Storybook によるコンポーネントカタログ追加（要相談）

